# AirOpsCat Subscription Config for Stash
# Generated at: [[${timestamp}]]
# Account: [[${account.uuid}]]

mixed-port: 7890
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090
secret: ""

dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 114.114.114.114
    - 8.8.8.8
  fallback:
    - 1.1.1.1
    - 8.8.4.4
  fallback-filter:
    geoip: true
    geoip-code: CN

proxies:
[# th:each="proxy : ${proxies}"]
  - name: "[(${proxy.name})]"
    type: [(${proxy.type})]
    server: [(${proxy.server})]
    port: [(${proxy.port})]
    [# th:if="${proxy.uuid != null}"]uuid: [(${proxy.uuid})][/]
    [# th:if="${proxy.password != null}"]password: [(${proxy.password})][/]
    [# th:if="${proxy.cipher != null}"]cipher: [(${proxy.cipher})][/]
    [# th:if="${proxy.alterId != null}"]alterId: [(${proxy.alterId})][/]
    [# th:if="${proxy.username != null}"]username: [(${proxy.username})][/]
    tls: false
    skip-cert-verify: true
[/]

proxy-groups:
  - name: "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
    type: url-test
    proxies:
[# th:each="proxyName : ${proxyNames}"]
      - "[(${proxyName})]"
[/]
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    tolerance: 50

  - name: "ğŸ”° èŠ‚ç‚¹é€‰æ‹©"
    type: select
    proxies:
      - "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
[# th:each="proxyName : ${proxyNames}"]
      - "[(${proxyName})]"
[/]

  - name: "ğŸŸ æ¼ç½‘ä¹‹é±¼"
    type: select
    proxies:
      - "ğŸ”° èŠ‚ç‚¹é€‰æ‹©"
      - "DIRECT"

  - name: "ğŸš« å¹¿å‘Šæ‹¦æˆª"
    type: select
    proxies:
      - "REJECT"
      - "DIRECT"

rules:
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,17.0.0.0/8,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼ 